<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="author" content="Clement Escoffier, Julien Viet, StÃ©phane Epardaud, Julien Ponge">
<title>Rx Java 2 - Reactive Programming and Libraries</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<meta name="keywords" content="Vert.x, Hands-on, Lab, Tutorial, Workshop, RX Java, Reactive, Reactive eXtensions">
<meta name="description" content="A hand's on lab about RxJava 2">


<link href="assets/css/asciidoctor.css" media="screen" rel="stylesheet">
<link href="assets/css/bootstrap.css" media="screen" rel="stylesheet">
<link href="assets/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="assets/css/hol.css" media="screen" rel="stylesheet">
<script src="assets/js/jquery-3.1.1.js"></script>
<script src="assets/js/bootstrap.js"></script>

<script>
    $(document).ready(function() {
        $(document)
            .find("div.assignment")
            .each(function(index, elt) {
                elt = $(elt);
                var content = elt.children("div.content");
                content.hide();
                var button = $("<button type='button'>Show me the code</button>");
                elt.append(button).on("click", function() {
                    button.remove();
                    content.show();
                });
            });
    });
</script>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Rx Java 2 - Reactive Programming and Libraries</h1>
<div class="details">
<span id="author" class="author">Clement Escoffier, Julien Viet, StÃ©phane Epardaud, Julien Ponge</span><br>
<span id="revnumber">version 0.1,</span>
<span id="revdate">April, 6th, 2018</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#_prerequisites">Prerequisites</a>
<ul class="sectlevel3">
<li><a href="#_hardware">Hardware</a></li>
<li><a href="#_java_development_kit">Java Development Kit</a></li>
<li><a href="#_apache_maven">Apache Maven</a></li>
<li><a href="#_ide">IDE</a></li>
</ul>
</li>
<li><a href="#_let_s_start">Letâs start !</a></li>
<li><a href="#_how_to_run_the_different_exercises">How to run the different exercises</a></li>
<li><a href="#_enough_philosophy_i_wanna_see_code">"Enough philosophy, I wanna see code"</a></li>
<li><a href="#_that_s_all">That&#8217;s all?</a></li>
<li><a href="#_ready_to_see_more">Ready to see more</a></li>
</ul>
</li>
<li><a href="#_anatomy_of_a_stream">Anatomy of a stream</a></li>
<li><a href="#_creating_more_dynamic_streams">Creating more dynamic streams</a></li>
<li><a href="#_hot_vs_cold_streams">Hot vs. Cold streams</a>
<ul class="sectlevel2">
<li><a href="#_cold_streams">Cold streams</a></li>
<li><a href="#_hot_streams">Hot streams</a></li>
<li><a href="#_stopping_emissions">Stopping emissions</a></li>
</ul>
</li>
<li><a href="#_streams_streams_streams">Streams, streams, streams&#8230;&#8203;</a></li>
<li><a href="#_single_completable_and_maybe">Single, Completable and Maybe</a>
<ul class="sectlevel1">
<li><a href="#_single">Single</a></li>
<li><a href="#_maybe">Maybe</a></li>
<li><a href="#_completable">Completable</a></li>
<li><a href="#_doonnext">doOnNext, &#8230;&#8203;.</a></li>
<li><a href="#_filter">Filter</a></li>
<li><a href="#_map">Map</a></li>
<li><a href="#_scan">Scan</a></li>
<li><a href="#_from_observable_to_single">From observable to single</a></li>
<li><a href="#_error_recovery">Error recovery</a></li>
<li><a href="#_flatmap">FlatMap</a></li>
</ul>
</li>
<li><a href="#_merging_streams_and_zipping_values">Merging streams and zipping values</a></li>
<li><a href="#_flowable_and_back_pressure">Flowable and back pressure</a></li>
<li><a href="#_transformation_and_custom_operators">Transformation and custom operators</a>
<ul class="sectlevel1">
<li><a href="#_transformers">Transformers</a></li>
<li><a href="#_to">to()</a></li>
<li><a href="#_custom_operators">Custom operators</a></li>
</ul>
</li>
<li><a href="#_testing_all_the_things">Testing all the things</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this lab, we are going to see how Reactive eXtension for Java (RX Java) let you use reactive programming and build concurrent and responsive applications.</p>
</div>
<div class="paragraph">
<p>This lab offers attendees an intro-level, hands-on session with RX Java, from the first line of code, to making a library exposing RX Java API. It illustrates what reactive programming is, and how to build applications using this paradigm. Yes, because it&#8217;s a paradigm and it&#8217;s quite different from <em>traditional</em> Java development.</p>
</div>
<div class="paragraph">
<p>This is a BYOL (Bring Your Own Laptop) session, so bring your Windows, OSX, or Linux laptop. You need JDK 8+ on your machine, and Apache Maven (3.5+).</p>
</div>
<div class="sect2">
<h3 id="_prerequisites">Prerequisites</h3>
<div class="paragraph">
<p>We will get to the good stuff, coding all the way soon&#8230;&#8203; But before we start, we need to install a couple of software on our machine.</p>
</div>
<div class="sect3">
<h4 id="_hardware">Hardware</h4>
<div class="ulist">
<ul>
<li>
<p>Operating System: whatever recent enough</p>
</li>
<li>
<p>Memory: At least 4 GB+</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_java_development_kit">Java Development Kit</h4>
<div class="paragraph">
<p>We need a JDK 8+ installed on our machine. Latest JDK can downloaded from:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Oracle JDK 8</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can use either Oracle JDK or OpenJDK.</p>
</div>
</div>
<div class="sect3">
<h4 id="_apache_maven">Apache Maven</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download Apache Maven from <a href="https://maven.apache.org/download.cgi" class="bare">https://maven.apache.org/download.cgi</a>.</p>
</li>
<li>
<p>Unzip to a directory of your choice and add it to the <code>$PATH</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_ide">IDE</h4>
<div class="paragraph">
<p>We recommend you to use an IDE. You can use Eclipse IDE, VS Code, IntelliJ or Netbeans.</p>
</div>
<div class="paragraph">
<p><em>No IDE ?</em>
If you donât have an IDE, here are the step to get started with Eclipse.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First download Eclipse from <a href="https://www.eclipse.org/downloads/">the download page</a>.</p>
</li>
<li>
<p>In the Eclipse Package list, select Eclipse IDE for Java Developers. It brings you to a download page with a Download button.</p>
</li>
<li>
<p>Once downloaded, unzip it.</p>
</li>
<li>
<p>In the destination directory, you should find an <code>eclipse</code> binary that you can execute.</p>
</li>
<li>
<p>Eclipse asks you to create a workspace.</p>
</li>
<li>
<p>Once launched, click on the Workbench arrow (top right corner).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_let_s_start">Letâs start !</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">git clone https://github.com/cescoffier/rxjava2-lab.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can import the code in your IDE as a Maven project. You can refer to your IDE documentation to know how to import Maven projects.</p>
</div>
<div class="paragraph">
<p>For Eclipse:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click on <code>File - Import â¦â - Maven - Existing Maven Projects`</code></p>
</li>
<li>
<p>Select the location where you cloned the sources</p>
</li>
<li>
<p>Click Finish and wait&#8230;&#8203;</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_run_the_different_exercises">How to run the different exercises</h3>
<div class="paragraph">
<p>Maven is only used to retrieve a few dependencies. From the location where you cloned the repository, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">mvn compile</code></pre>
</div>
</div>
<div class="paragraph">
<p>It will download the required dependencies.</p>
</div>
<div class="paragraph">
<p>The code is in <code>src/main/java</code>. All the exercises have a <code>public static void main(String&#8230;&#8203; args)</code> method. To run the exercise, just run this <code>main</code> method.</p>
</div>
<div class="paragraph">
<p>I believe you are ready to start!
== The reactive thinking: from OOP to streams</p>
</div>
<div class="paragraph">
<p>Forget everything you know about code, and look around. Modeling this world with code is challenging. As developers, we tends to use counter-intuitive approaches. Since the 80&#8217;s, object-oriented computing has been seen as the silver bullet. Every entity from our world is represented with an object containing fields and exposing methods. Most of the time, interacting with these objects is done using a synchronous and blocking protocol. You call it, and wait for a response.</p>
</div>
<div class="paragraph">
<p>But&#8230;&#8203; the world in which we are living is asynchronous. The interactions are done using events, messages and stimuli. So overcome the limitations of the object orientation, many patterns and paradigm emerged. But, more recently functional programming is making a come-back, not to replace the object-orientation, but to complement it. <em>Reactive programming</em> is a functional event-driven programming approach tat is used in combination of the regular object-oriented paradigm.</p>
</div>
<div class="paragraph">
<p>Microsoft created a few years ago a reactive programming framework for .NET called <a href="http://reactivex.io/">Reactive eXtensions</a> (also called ReactiveX or RX). RX is an API for asynchronous programming with <strong>observable streams</strong>. This API has been ported to several languages such as Swift, JavaScript, Python, C++ and Java.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s observe our world for a moment. Observe entities in motion, traffic jams, weather, conversations, financial markets. Things are moving and evolving concurrently. Multiple <em>things</em> happen at the same time, sometimes independently, sometimes in an orchestrated manner. Each objects is creating a <em>stream</em> of events. For instance, your mouse cursor position is moving. The sequence of position is a stream. The number of people in the room, it may be stable, but someone can come in or go out, generating a new value. So we have another stream of values. There is a fundamental mantra behind reactive programming: <em>events are data and data are events</em>.</p>
</div>
<div class="paragraph">
<p>But don&#8217;t be mistaken, reactive programming is not a silver bullet. Reactive programming and RX let you express business logic in term of streams of events, helping you with concurrency and error recovery; but don&#8217;t think it&#8217;s magic&#8230;&#8203; because it&#8217;s not.</p>
</div>
</div>
<div class="sect2">
<h3 id="_enough_philosophy_i_wanna_see_code">"Enough philosophy, I wanna see code"</h3>
<div class="paragraph">
<p>Alright! Let&#8217;s see code. Can we start with our beloved XML? In the <code>pom.xml</code> file located at the source of the code repository, you can see a few dependencies. One of them is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.reactivex.rxjava2&lt;/groupId&gt;
    &lt;artifactId&gt;rxjava&lt;/artifactId&gt;
    &lt;version&gt;x.y.z&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s the only dependency you need to start using RX Java.</p>
</div>
<div class="paragraph">
<p>Now open the <code>src/main/java/me/escoffier/lab/chapter1/Code1.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package me.escoffier.lab.chapter1;

import java.util.Arrays;
import java.util.List;

import io.reactivex.*;

public class Code1 {

    private static List&lt;String&gt; SUPER_HEROS = Arrays.asList(
        "Superman",
        "Batman",
        "Aquaman",
        "Asterix",
        "Captain America"
    );

    public static void main(String... args) {
        Observable&lt;String&gt; stream = Observable.fromIterable(SUPER_HEROS);
        stream.subscribe(
            name -&gt; System.out.println(name)
        );
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is your first RX Java application. A couple of points to notice:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>import io.reactivex.*;</code> imports the classes form RX Java</p>
</li>
<li>
<p><code>Observable&lt;String&gt;</code>: represents a stream of data (here <code>String</code>). Notice the class name, it invites you to <em>observe</em> it.</p>
</li>
<li>
<p><code>Observable.fromIterable</code>: creates a stream (<code>Observable</code>) from a collection</p>
</li>
<li>
<p><code>stream.subscribe</code>: declare an observer consuming the data passing in the streams. The passed lambda is called for each item.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Run this example and you should see:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-txt" data-lang="txt">Superman
Batman
Aquaman
Asterix
Captain America</code></pre>
</div>
</div>
<div class="paragraph">
<p>Obviously, feel free to change the list of super heroes.</p>
</div>
<div class="paragraph">
<p>A gently note about <code>subscribe</code>&#8230;&#8203; If you don&#8217;t subscribe to a stream, nothing happen. None of the processing stage will be executed until you subscribe on it. This is very important to remember to avoid thousands of hour of debugging!</p>
</div>
</div>
<div class="sect2">
<h3 id="_that_s_all">That&#8217;s all?</h3>
<div class="paragraph">
<p>Ok, not really impressive&#8230;&#8203; But the true power of RX Java comes from its set of operators to manipulate the streams. Jump to <code>src/main/java/me/escoffier/lab/chapter1/Code2.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package me.escoffier.lab.chapter1;

import io.reactivex.Observable;

import java.util.Arrays;
import java.util.List;

public class Code2 {

    private static List&lt;String&gt; SUPER_HEROS = Arrays.asList(
        "Superman",
        "Batman",
        "Aquaman",
        "Asterix",
        "Captain America"
    );

    public static void main(String... args) {
        Observable
            .fromIterable(SUPER_HEROS)
            .map(n -&gt; n.toUpperCase())
            .filter(name -&gt; name.startsWith("A"))
            .subscribe(
                name -&gt; System.out.println(name)
            );
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example use two operators:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>map</code>: for each item of the observed stream, apply the function - here transform the name to uppercase</p>
</li>
<li>
<p><code>filter</code>: for each item of the observed stream (the uppercase names), select only names starting with a <code>A</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Run this example, you should see:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-txt" data-lang="txt">AQUAMAN
ASTERIX</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is a very important point to make here: operators consume items from a stream and produce a stream. The first part is simple to understand. Typically, for <code>filter</code>, it received <code>SUPERMAN</code> then <code>BATMAN</code> and so on. The second part is a bit more tricky. Let&#8217;s take map as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Input :  Superman    Batman     Aquaman ... &lt;- input stream
            |           |          |
Result:  SUPERMAN    BATMAN     AQUAMAN ... &lt;- this is also a stream</code></pre>
</div>
</div>
<div class="paragraph">
<p>It produces  one value per received value, in other words, a sequence of value: it&#8217;s also a stream.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ready_to_see_more">Ready to see more</h3>
<div class="paragraph">
<p>In this chapter, you have seen very basic RX Java 2, there is a lot more&#8230;&#8203;
= Observables and Subscribers</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anatomy_of_a_stream">Anatomy of a stream</h2>
<div class="sectionbody">
<div class="paragraph">
<p>What&#8217;s a <em>stream</em>. A stream is a sequence of data, potentially unbounded. These data may be known or unknown when the stream is created. We will see later that some special streams emits a single item, and some none at all.</p>
</div>
<div class="paragraph">
<p>In a (regular) <em>stream</em>, 3 types of items can be conveyed, and so an observer can receive 3 types of events, each of them is notified using one of the following method:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>onNext</code> - this passes each item the observed stream is emitting</p>
</li>
<li>
<p><code>onComplete</code> - this communicates the end of the stream. <code>onNext</code> won&#8217;t be called anymore. This notification does not happen on unbounded streams</p>
</li>
<li>
<p><code>onError</code> - this communicates that something bad happened up the chain to the observer. Unless there is a <code>retry</code> (we will cover this later), the stream won&#8217;t emit anymore items. <code>onComplete</code> is not called either in this case.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Time to go back to code. Open the <code>me.escoffier.lab.chapter2.Code1</code> class, and extend the code to display a message (using <code>System.out.println</code>) when:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>an item is emitted</p>
</li>
<li>
<p>the stream is completed</p>
</li>
</ol>
</div>
<div class="sidebarblock assignment">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package me.escoffier.lab.chapter2;


import io.reactivex.Observable;

import java.util.Arrays;
import java.util.List;

public class Code1_Solution {

    private static List&lt;String&gt; SUPER_HEROS = Arrays.asList(
        "Superman",
        "Batman",
        "Aquaman",
        "Asterix",
        "Captain America"
    );

    public static void main(String... args) {
        Observable.fromIterable(SUPER_HEROS)
            .doOnNext(s -&gt; System.out.println("Next &gt;&gt; " + s))
            .doOnComplete(() -&gt; System.out.println("Completion"))
            .subscribe();
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>You should get an output like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Next &gt;&gt; Superman
Next &gt;&gt; Batman
Next &gt;&gt; Aquaman
Next &gt;&gt; Asterix
Next &gt;&gt; Captain America
Completion</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, let&#8217;s see what happen when an error occurs. In <code>me.escoffier.lab.chapter2.Code2</code>, use the <code>doOnComplete</code>, <code>doOnNext</code> and <code>doOnError</code> to print the different events.</p>
</div>
<div class="sidebarblock assignment">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package me.escoffier.lab.chapter2;


import io.reactivex.Observable;

import java.util.Arrays;
import java.util.List;

public class Code2_Solution {

    private static List&lt;String&gt; SUPER_HEROS = Arrays.asList(
        "Superman",
        "Batman",
        "Aquaman",
        "Asterix",
        "Captain America"
    );

    public static void main(String... args) {
        Observable.fromIterable(SUPER_HEROS)
            .map(name -&gt; {
                if (name.endsWith("x")) {
                    throw new RuntimeException("What a terrible failure!");
                }
                return name.toUpperCase();
            })
            // Use doOnNext, doOnComplete and doOnError to print messages
            // on each item, when the stream complete, and when an error occurs
            .doOnNext(s -&gt; System.out.println("&gt;&gt; " + s))
            .doOnComplete(() -&gt; System.out.println("Completion... not called"))
            .doOnError(err -&gt; System.out.println("Oh no! " + err.getMessage()))
            .subscribe();
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Notice the output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&gt;&gt; SUPERMAN
&gt;&gt; BATMAN
&gt;&gt; AQUAMAN
Oh no! What a terrible failure!</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the error is reached, no more items are sent. In addition, the <code>doOnComplete</code> method is not called.</p>
</div>
<div class="paragraph">
<p>While the <code>doOnX</code> methods are interesting to understand what&#8217;s going on and also implement side-effects (be aware not necessary a good thing), you can also receives these event in the subscriber directly. The <code>subscribe</code> method can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>receive the items such as in: <code>stream.subscribe(i &#8594; {});</code></p>
</li>
<li>
<p>receive the error such as in: <code>stream.subscribe(i &#8594; {}, err &#8594; {});</code></p>
</li>
<li>
<p>receive the completion event such as in: <code>stream.subscribe(i &#8594; {}, err &#8594; {}, () &#8594; {});</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also implement the subscriber interface directly. In <code>me.escoffier.lab.chapter2.Code3</code>, use the 3 lambdas version of the <code>subscribe</code> method to print the different events.</p>
</div>
<div class="sidebarblock assignment">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package me.escoffier.lab.chapter2;


import io.reactivex.Observable;

public class Code3_Solution {

    public static void main(String... args) {
        Observable.just("Black Canary", "Catwoman", "Elektra")
            .subscribe(
                name -&gt; System.out.println("&gt;&gt; " + name),
                Throwable::printStackTrace,
                () -&gt; System.out.println("Completion")
            );
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In this example the stream is created with the method <code>just</code> taking the list of items as parameter.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_more_dynamic_streams">Creating more dynamic streams</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far we always used a stream with a fixed collection of values. Of course, items emitted by streams may be unknown at creation time. But let&#8217;s see how streams works first.</p>
</div>
<div class="paragraph">
<p>The <code>create</code> method takes a method in parameter called on every subscription (so for every subscriber). The following code show how this method is used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package me.escoffier.lab.chapter2;


import io.reactivex.Observable;

public class Code4 {

    public static void main(String... args) {
        Observable&lt;String&gt; stream = Observable.create(subscriber -&gt; {
            // Emit items
            subscriber.onNext("Black Canary");
            subscriber.onNext("Catwoman");
            subscriber.onNext("Elektra");
            // Notify the completion
            subscriber.onComplete();
        });

        stream
            .subscribe(
                i -&gt; System.out.println("Received: " + i),
                err -&gt; System.out.println("BOOM"),
                () -&gt; System.out.println("Completion")
            );

    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now open the <code>me.escoffier.lab.chapter2.Code5</code> class and extend it to inject a failure between two emissions.</p>
</div>
<div class="sidebarblock assignment">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package me.escoffier.lab.chapter2;


import io.reactivex.Observable;

public class Code5_Solution {

    public static void main(String... args) {
        Observable&lt;String&gt; stream = Observable.create(subscriber -&gt; {
            // Emit items
            subscriber.onNext("Black Canary");
            subscriber.onNext("Catwoman");
            // Inject an error
            subscriber.onError(new Exception("What a terrible failure"));
            subscriber.onNext("Elektra");
            // Notify the completion
            subscriber.onComplete();
        });

        stream
            .subscribe(
                i -&gt; System.out.println("Received: " + i),
                err -&gt; System.out.println("BOOM"),
                () -&gt; System.out.println("Completion")
            );

    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>When you run it you can notice the same behavior as before: once an error is injected, the other values are not received by the subscriber (even if the stream continue emitting errors). This is because, one the error is received, the subscription is canceled - meaning that it does not observe the events anymore.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see another example to exhibit this behavior:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package me.escoffier.lab.chapter2;


import io.reactivex.Observable;

import java.util.Scanner;

public class Code6 {

    public static void main(String... args) {
        Observable&lt;String&gt; stream = Observable.create(subscriber -&gt; {
            boolean done = false;
            Scanner scan = new Scanner(System.in);
            while(! done) {
                String input = scan.next();
                if (input.contains("done")) {
                    done = true;
                    subscriber.onComplete();
                } else if (input.contains("error")) {
                    subscriber.onError(new Exception(input));
                } else {
                    subscriber.onNext(input);
                }
            }
        });

        stream
            .subscribe(
                i -&gt; System.out.println("Received: " + i),
                err -&gt; System.out.println("BOOM"),
                () -&gt; System.out.println("Completion")
            );

    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This application takes user inputs and build a stream out of them. So for every line it emits the value. If the line contains "error", an error is injected. If the line contains "done" the stream is closed. If you run the application and enter: <code>hello</code>, <code>foo</code>, <code>error</code>, <code>not received anymore</code> you get the following output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>hello
Received: hello
foo
Received: foo
error
BOOM
not received anymore</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hot_vs_cold_streams">Hot vs. Cold streams</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Things are becoming a bit more subtle&#8230;&#8203; This is a key concept to grasp before going further. Streams can be <em>cold</em> or <em>hot</em> (like coffee).</p>
</div>
<div class="sect2">
<h3 id="_cold_streams">Cold streams</h3>
<div class="paragraph">
<p>A cold stream restarts from the beginning for each subscriber, and all subscribers get the full set of items. For instance, let&#8217;s have a look to the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package me.escoffier.lab.chapter2;


import io.reactivex.Observable;

import java.util.Scanner;

public class Code7 {

    public static void main(String... args) {
        Observable&lt;String&gt; stream = Observable.just("Black Canary", "Catwoman", "Elektra");

        stream
            .subscribe(
                i -&gt; System.out.println("[A] Received: " + i),
                err -&gt; System.out.println("[A] BOOM"),
                () -&gt; System.out.println("[A] Completion")
            );

        stream
            .subscribe(
                i -&gt; System.out.println("[B] Received: " + i),
                err -&gt; System.out.println("[B] BOOM"),
                () -&gt; System.out.println("[B] Completion")
            );

    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When running this application (<code>me.escoffier.lab.chapter2.Code7</code>) you get:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>---
[A] Received: Black Canary
[A] Received: Catwoman
[A] Received: Elektra
[A] Completion
[B] Received: Black Canary
[B] Received: Catwoman
[B] Received: Elektra
[B] Completion
---</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, both subscribers get the full set of items.</p>
</div>
</div>
<div class="sect2">
<h3 id="_hot_streams">Hot streams</h3>
<div class="paragraph">
<p>Unlike cold streams, hot streams broadcast the same items to all listening subscribers. However, if a subscribers arrive later, it won&#8217;t receive the previous items. Logically, hot streams represent <em>events</em> or <em>facts</em> rather then known finite data sets.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s imagine a counter. This counter is incremented every second, and this value is emitted in a stream. When a subscriber start listening it only get the data emitted after that. This behavior is depicted in the <code>me.escoffier.lab.chapter2.Code8</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package me.escoffier.lab.chapter2;


import io.reactivex.Observable;

import static me.escoffier.lab.chapter2.HotStream.nap;

public class Code8 {

    public static void main(String... args) {
        Observable&lt;Integer&gt; stream = HotStream.create();

        stream
            .subscribe(
                i -&gt; System.out.println("[A] Received: " + i),
                err -&gt; System.out.println("[A] BOOM"),
                () -&gt; System.out.println("[A] Completion")
            );

        nap();

        stream
            .subscribe(
                i -&gt; System.out.println("[B] Received: " + i),
                err -&gt; System.out.println("[B] BOOM"),
                () -&gt; System.out.println("[B] Completion")
            );

    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When running this application, you can see an output similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[A] Received: 0
[A] Received: 1
[B] Received: 1
[A] Received: 2
[B] Received: 2
[A] Received: 3
[B] Received: 3
[A] Received: 4
[B] Received: 4
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first subscriber (A) received the values 0, 1, 2, 3 and 4. The second subscriber (B)arrives one second later and so missed the value 0. It just receives 1, 2, 3 and 4.</p>
</div>
<div class="paragraph">
<p>There are ways to transform cold stream into hot stream named <code>ConnectableObservable</code>. We won&#8217;t cover these in this lab, but we invite you to check the <a href="https://github.com/ReactiveX/RxJava/wiki/Connectable-Observable-Operators">documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_stopping_emissions">Stopping emissions</h3>
<div class="paragraph">
<p>Cleanup is always a good thing. In the previous example, we had 2 subscribers. Let&#8217;s reuse this example, but this time <em>cancel the subscription</em> after some time.</p>
</div>
<div class="paragraph">
<p>The <code>subscribe</code> method returns a <code>io.reactivex.disposables.Disposable</code> object that allows cancelling the subscription using the <code>dispose</code> method. The class <code>me.escoffier.lab.chapter2.Code9</code> uses this method to cancel the subscription to the hot stream:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package me.escoffier.lab.chapter2;


import io.reactivex.Observable;
import io.reactivex.disposables.Disposable;
import io.reactivex.schedulers.Schedulers;

import static me.escoffier.lab.chapter2.HotStream.nap;

public class Code9 {

    public static void main(String... args) {
        Observable&lt;Integer&gt; stream = HotStream.create();

        Disposable s1 = stream
            .subscribe(
                i -&gt; System.out.println("[A] Received: " + i),
                err -&gt; System.out.println("[A] BOOM"),
                () -&gt; System.out.println("[A] Completion")
            );

        // Wait before starting the next subscriber
        nap();

        Disposable s2 = stream
            .subscribe(
                i -&gt; System.out.println("[B] Received: " + i),
                err -&gt; System.out.println("[B] BOOM"),
                () -&gt; System.out.println("[B] Completion")
            );

        nap(5);

        // Cancel the subscription for A
        s1.dispose();

        nap(3);

        // Cancel the subscription for B
        s2.dispose();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once canceled, the subscriber does not receive any event anymore. It does not get a completion event either.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_streams_streams_streams">Streams, streams, streams&#8230;&#8203;</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this chapter we have seen how are structured streams, how they behave and how observers/subscribers work. We have only seen streams containing a set of data. In the next chapter we will see some more special streams.</p>
</div>
</div>
</div>
<h1 id="_single_completable_and_maybe" class="sect0">Single, Completable and Maybe</h1>
<div class="paragraph">
<p>Stream of 1, 0 and maybe 1 elements</p>
</div>
<div class="sect1">
<h2 id="_single">Single</h2>
<div class="sectionbody">
<div class="paragraph">
<p>onSuccess (and not onNext)
onError
no onComplete</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>creation with just</p>
</li>
<li>
<p>observable.first</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_maybe">Maybe</h2>
<div class="sectionbody">
<div class="paragraph">
<p>onSuccess
onError
onComplete</p>
</div>
<div class="paragraph">
<p>Example with Maybe (completed and not completed)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_completable">Completable</h2>
<div class="sectionbody">
<div class="paragraph">
<p>onComplete
onError</p>
</div>
<div class="paragraph">
<p>Example
# Operators</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_doonnext">doOnNext, &#8230;&#8203;.</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_filter">Filter</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_map">Map</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_scan">Scan</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_from_observable_to_single">From observable to single</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To list, to sorted list, to Map, collect?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_error_recovery">Error recovery</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_flatmap">FlatMap</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_merging_streams_and_zipping_values" class="sect0">Merging streams and zipping values</h1>
<div class="paragraph">
<p>not sure we will keep it.
Unresolved directive in index.adoc - include::chapters/6-create_a_rx_api.adoc[Creating a library with RX]
# Schedulers and concurrency</p>
</div>
<h1 id="_flowable_and_back_pressure" class="sect0">Flowable and back pressure</h1>

<h1 id="_transformation_and_custom_operators" class="sect0">Transformation and custom operators</h1>
<div class="sect1">
<h2 id="_transformers">Transformers</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_to">to()</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_custom_operators">Custom operators</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_testing_all_the_things" class="sect0">Testing all the things</h1>

</div>
<div id="footer">
<div id="footer-text">
Version 0.1<br>
Last updated 2018-04-06 16:44:03 UTC
</div>
</div>
</body>
</html>